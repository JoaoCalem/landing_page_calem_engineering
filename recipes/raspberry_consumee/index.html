<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grand Cru Raspberry Consommé</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:wght@700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        h1 { font-family: 'Playfair Display', serif; }
        .step-number { min-width: 2rem; height: 2rem; }
        .accent-berry { background-color: #721c24; }
        .text-berry { color: #721c24; }
    </style>
</head>
<body class="bg-rose-50 text-stone-800 p-4 md:p-8">

    <div class="max-w-2xl mx-auto bg-white shadow-xl rounded-2xl overflow-hidden border border-rose-100">
        <!-- Header -->
        <div class="bg-rose-900 text-rose-50 p-8 text-center">
            <h1 class="text-4xl mb-2">Grand Cru Raspberry Consommé</h1>
            <p class="text-rose-300 italic">High-clarity fruit reduction with a coffee-bean botanical mystery</p>
        </div>

        <!-- Serving Controls -->
        <div class="p-6 bg-rose-100 border-b border-rose-200 flex flex-col sm:flex-row items-center justify-between gap-4">
            <div class="flex items-center gap-3">
                <label for="servings" class="font-semibold text-rose-900">Servings:</label>
                <input type="number" id="servings" value="6" min="1" max="50" 
                       class="w-16 p-2 rounded border border-rose-300 focus:ring-2 focus:ring-rose-500 outline-none text-center"
                       oninput="updateAmounts()">
            </div>
            <div class="text-sm text-rose-700">
                <span class="inline-block px-2 py-1 bg-white rounded border border-rose-200">Consistency: Mirror-glaze syrup</span>
            </div>
        </div>

        <!-- Ingredients -->
        <div class="p-8">
            <h2 class="text-2xl font-semibold mb-6 flex items-center gap-2">
                Ingredients <small class="text-stone-400 font-normal text-sm">(All Metric)</small>
            </h2>
            <ul class="space-y-4">
                <li class="flex justify-between border-b border-stone-100 pb-2">
                    <span>Fresh Raspberries (Grade A)</span>
                    <span class="font-mono font-bold"><span id="berries">350</span>g</span>
                </li>
                <li class="flex justify-between border-b border-stone-100 pb-2">
                    <span>Superfine Sugar</span>
                    <span class="font-mono font-bold"><span id="sugar">75</span>g</span>
                </li>
                <li class="flex justify-between border-b border-stone-100 pb-2">
                    <div>
                        <span>Whole Coffee Beans</span>
                        <div class="text-xs text-rose-600 font-medium italic underline">Light Roast (Ethiopian preferred)</div>
                    </div>
                    <span class="font-mono font-bold"><span id="coffee">8</span> units</span>
                </li>
                <li class="flex justify-between border-b border-stone-100 pb-2">
                    <span>Vanilla Bean (Seeds & Pod)</span>
                    <span class="font-mono font-bold"><span id="vanilla">0.5</span> unit</span>
                </li>
                <li class="flex justify-between border-b border-stone-100 pb-2">
                    <span>Fresh Lemon Juice</span>
                    <span class="font-mono font-bold"><span id="lemon">10</span>ml</span>
                </li>
                <li class="flex justify-between border-b border-stone-100 pb-2">
                    <div>
                        <span>Framboise or Kirsch</span>
                        <div class="text-xs text-stone-400 italic">Optional: Enhances floral aromatics</div>
                    </div>
                    <span class="font-mono font-bold"><span id="alcohol">15</span>ml</span>
                </li>
                <li class="flex justify-between border-b border-stone-100 pb-2">
                    <span>Sea Salt (Fine)</span>
                    <span class="font-mono font-bold">Pinch</span>
                </li>
            </ul>
        </div>

        <!-- Method -->
        <div class="p-8 bg-stone-50">
            <h2 class="text-2xl font-semibold mb-6 text-stone-700">Technique</h2>
            <div class="space-y-8">
                <!-- Step 1 -->
                <div class="flex gap-4">
                    <div class="step-number bg-rose-900 text-white rounded-full flex items-center justify-center font-bold">1</div>
                    <div>
                        <h3 class="font-bold">Maceration & Cracking</h3>
                        <p class="text-stone-600 text-sm">Combine berries, sugar, lemon, vanilla, and salt. Pass coffee beans through a manual grinder on the <strong>coarsest setting</strong> (cracked, not ground). Add to berries. Cover and macerate for 3 hours at room temp.</p>
                    </div>
                </div>
                <!-- Step 2 -->
                <div class="flex gap-4">
                    <div class="step-number bg-rose-900 text-white rounded-full flex items-center justify-center font-bold">2</div>
                    <div>
                        <h3 class="font-bold">Gentle Infusion</h3>
                        <p class="text-stone-600 text-sm">Add liqueur and transfer to a saucepan. Heat over <strong>low-medium</strong> until sugar dissolves and berries collapse (~5 mins). <strong>Important:</strong> Do not boil vigorously; maintain the bright ruby color.</p>
                    </div>
                </div>
                <!-- Step 3 -->
                <div class="flex gap-4">
                    <div class="step-number bg-rose-900 text-white rounded-full flex items-center justify-center font-bold">3</div>
                    <div>
                        <h3 class="font-bold">Pre-Strain</h3>
                        <p class="text-stone-600 text-sm">Pass the warm mixture through a standard kitchen sieve to remove seeds, vanilla pod, and coffee fragments. Let cool to approx <strong>50°C (122°F)</strong>.</p>
                    </div>
                </div>
                <!-- Step 4 -->
                <div class="flex gap-4">
                    <div class="step-number bg-rose-600 text-white rounded-full flex items-center justify-center font-bold italic">AP</div>
                    <div>
                        <h3 class="font-bold text-rose-700">The AeroPress Consommé (Pro Step)</h3>
                        <p class="text-stone-600 text-sm mb-2 font-semibold">Requirement: Metal filter or rinsed paper filter.</p>
                        <p class="text-stone-600 text-sm">Pour the sieved liquid into the AeroPress chamber. Insert the plunger and apply <strong>slow, steady pressure</strong>. The filtration removes microscopic particles, leaving a crystal-clear, jewel-toned liquid.</p>
                    </div>
                </div>
                <!-- Step 5 -->
                <div class="flex gap-4">
                    <div class="step-number bg-rose-900 text-white rounded-full flex items-center justify-center font-bold">5</div>
                    <div>
                        <h3 class="font-bold">Gloss Reduction</h3>
                        <p class="text-stone-600 text-sm">Return filtered liquid to a clean pan. Simmer for 3-5 mins until syrupy. It should coat the back of a cold spoon without bleeding water.</p>
                    </div>
                </div>
                <!-- Step 6 -->
                <div class="flex gap-4">
                    <div class="step-number bg-rose-900 text-white rounded-full flex items-center justify-center font-bold">6</div>
                    <div>
                        <h3 class="font-bold">Ice Shock</h3>
                        <p class="text-stone-600 text-sm">Transfer to a bowl over an ice bath. Whisk until cold. This locks in the "High-Def" red hue and prevents it from turning brick-red.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="p-6 text-center text-rose-300 text-sm border-t border-rose-100">
            Wait for the 'mystery' coffee notes to unfold on the palate.
        </div>
    </div>

    <script>
        function updateAmounts() {
            const baseServings = 6;
            const servings = document.getElementById('servings').value || 1;
            const factor = servings / baseServings;

            const ingredients = {
                berries: 350,
                sugar: 75,
                coffee: 8,
                vanilla: 0.5,
                lemon: 10,
                alcohol: 15
            };

            for (const [id, value] of Object.entries(ingredients)) {
                const element = document.getElementById(id);
                const newValue = value * factor;
                // Round to 1 decimal place for small units, whole numbers for grams
                element.innerText = (newValue < 10) ? newValue.toFixed(1) : Math.round(newValue);
            }
        }
    </script>
</body>
</html>

